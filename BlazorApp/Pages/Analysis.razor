@page "/Analysis"
@using System.Net.Http
@using System.Net.Http.Json
@using System.Threading.Tasks
@inject HttpClient Http

<PageTitle>Analysis</PageTitle>

<h1>Analysis</h1>

<div class="col-md-6 col-lg-4 p-3">
            <RadzenCard Style="overflow: scroll">
                <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">@analysisText</RadzenText>
            </RadzenCard>
        </div>

<button class="btn btn-primary" @onclick="getAuthorAnalysis">Author Analysis</button>
<button class="btn btn-primary" @onclick="getFrequencyAnalysis">Frequency Analysis</button>


@code {

    private string analysisText;



    protected async Task getAuthorAnalysis()
    {
        try {
            analysisText = await Http.GetStringAsync("https://localhost:7024/analysis/Mlth/BDSAProject/author");
        } catch(Exception e) {
            analysisText = e.Message;
        }
    }

    protected async Task getFrequencyAnalysis() 
    {
        try {
            analysisText = await Http.GetStringAsync("https://localhost:7024/analysis/Mlth/BDSAProject/frequency");
        } catch(Exception e) {
            analysisText = e.Message;
        }
    }
}
